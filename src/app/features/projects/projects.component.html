<ng-container *ngIf="language$ | async">
</ng-container>

  <section class="projects u-page">
  <h1 class="u-page__title">
    {{ translation.t('projects.title') }}
  </h1>

  <p class="u-page__subtitle">
    {{ translation.t('projects.subtitle') }}
  </p>

  <!-- Lista -->
  <div class="projects__list u-mt-md" *ngIf="projects.length; else empty">

    <article class="projects__item c-card c-card--soft" *ngFor="let p of projects">

      <!-- Cabecera -->
      <header class="projects__item-header">
        <h2 class="projects__item-title">
          {{ translation.t(p.titleKey) }}
        </h2>
        <span class="projects__item-year">{{ p.year }}</span>
      </header>

      <!-- Descripción corta -->
      <p class="projects__item-description">
        {{ translation.t(p.shortDescriptionKey) }}
      </p>

      <!-- Meta info -->
      <p class="projects__item-meta">
        <strong>{{ translation.t('projects.common.role') }}:</strong>
        {{ translation.t(p.roleKey) }}

        <span class="projects__item-meta-separator">•</span>

        <strong>{{ translation.t('projects.common.context') }}:</strong>
        {{ translation.t(p.contextKey) }}
      </p>

      <!-- Responsabilidades -->
      <p class="projects__item-resp">
        <strong>{{ translation.t('projects.common.responsibilities') }}:</strong>
        {{ translation.t(p.responsibilitiesKey) }}
      </p>

      <!-- Tech stack -->
      <div class="projects__item-tags">
        <span class="projects__tag" *ngFor="let tech of p.techStack">{{ tech }}</span>
      </div>

      <!-- Botones -->
      <footer class="projects__item-footer">

        <a *ngIf="p.liveUrl"
           class="c-button c-button--ghost"
           [href]="p.liveUrl"
           target="_blank">
          {{ translation.t('projects.actions.viewLive') }}
        </a>

        <a *ngIf="p.repoUrl"
           class="c-button c-button--ghost"
           [href]="p.repoUrl"
           target="_blank">
          {{ translation.t('projects.actions.viewRepo') }}
        </a>

        <a class="c-button c-button--primary"
           [routerLink]="['/projects', p.id]">
          {{ translation.t('projects.actions.moreInfo') }}
        </a>

      </footer>

    </article>

  </div>

  <!-- Vacío -->
  <ng-template #empty>
    <div class="projects__placeholder c-card c-card--soft u-mt-md">
      <p class="u-text-soft">
        {{ translation.t('projects.empty.helper') }}
      </p>
    </div>
  </ng-template>
</section>

